<div class="column">
  <header class="column__header">
    <h2 *ngIf="!isEditMode" class="column__title" (click)="titleSwitchClick()">
      {{ title }}
    </h2>
    <button
      *ngIf="isEditMode"
      mat-stroked-button
      class="column__title-button"
      (click)="titleSwitchClickCancel()"
      matTooltip="{{ 'task-column.cancel' | translate | titlecase }}"
    >
      <mat-icon>cancel</mat-icon>
    </button>
    <button
      *ngIf="isEditMode"
      mat-stroked-button
      class="column__title-button"
      (click)="titleSwitchClickSubmit()"
      matTooltip="{{ 'task-column.submit' | translate | titlecase }}"
    >
      <mat-icon>save</mat-icon>
    </button>
    <input
      *ngIf="isEditMode"
      class="column__title column__title-edit"
      matInput
      [(ngModel)]="title"
    />
    <mat-icon
      class="column__title-button"
      matTooltip="{{ 'task-column.submit' | translate | titlecase }}"
      *ngIf="!isEditMode"
      (click)="onDeleteColumn($event)"
      >delete</mat-icon
    >
  </header>

  <div
    class="column__list drag-list"
    cdkDropList
    [cdkDropListData]="tasks"
    (cdkDropListDropped)="dropTask($event)"
  >
    <div
      *ngFor="let task of tasks"
      class="column__task task drag-el"
      cdkDrag
      [cdkDragData]="task"
      (click)="onEditTask(task)"
    >
      <h3 class="task__title">{{ task.title }}</h3>
      <mat-icon
        class="task__delete"
        matTooltip="{{ 'task-column.delete' | translate | titlecase }}"
        (click)="onDeleteTask($event, task.id, task.title)"
        >delete</mat-icon
      >
    </div>
  </div>

  <button class="board__btn-add" mat-stroked-button (click)="onAddTask()">
    <mat-icon>add</mat-icon>
    <span>{{ 'board.column.btn-add' | translate }}</span>
  </button>
</div>
